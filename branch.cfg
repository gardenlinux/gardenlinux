cfgs:
  default:
    branches: ['main']
    inherit:
      gardenlinux:
        jobs:
          trigger_release_from_current_head:
            repo:
              trigger: false
            steps:
              render_pipelines_and_trigger_job:
                vars:
                  PROMOTE_TARGET: "'release'"
                  PUBLISHING_ACTIONS: "'manifests,images,release'"

  release_branches:
    branches: ['rel-.*']
    inherit:
      gardenlinux:
        jobs:
          trigger_release:
            repo:
              trigger: false
            steps:
              render_pipelines_and_trigger_job:
                vars:
                  PROMOTE_TARGET: "'release'"
                  PUBLISHING_ACTIONS: "'manifests,images,release'"

  integration_test_branches:
    branches: ['integrity']
    inherit:
      gardenlinux:
        jobs:
          run_integration_tests:
            repo:
              trigger: true
            steps:
              run_integration_tests: ~
